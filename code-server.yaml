# yaml-language-server: $schema=https://raw.githubusercontent.com/chainguard-dev/apko/refs/heads/main/pkg/build/types/schema.json
include: wolfi-base.yaml
contents:
  packages:
    - code-server=4.103.2-r0
    - code-server-compat
    - zsh
entrypoint:
  command: /usr/bin/entrypoint.sh
cmd: --bind-addr 0.0.0.0:8080 .
work-dir: /home/coder
environment:
  ENTRYPOINTD: /entrypoint.d
  LANG: en_US.UTF-8
  USER: coder
accounts:
  run-as: coder
  groups:
    - groupname: coder
      gid: 1000
  users:
    - username: coder
      uid: 1000
      shell: /bin/zsh
vcs-url: https://github.com/coder/code-server
